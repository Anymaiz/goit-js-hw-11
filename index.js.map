{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const APIKey = '48573229-d00ec4466a1952407b35369c3';\nconst URLBase = 'https://pixabay.com/api/';\n\nexport async function fetchPhotos(query) {\n  const url = `${URLBase}?key=${APIKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Sorry, there was an error loading. Please try again!');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}","export function createImageCard({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  }) {\n    return `\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n            <div class=\"info\">\n                <p class=\"text-image\"><b>Likes:</b> ${likes}</p>\n                <p class=\"text-image\"><b>Views:</b> ${views}</p>\n                <p class=\"text-image\"><b>Comments:</b> ${comments}</p>\n                <p class=\"text-image\"><b>Downloads:</b> ${downloads}</p>\n            </div>\n        </a>\n    `;\n  }\n  \n  export function createGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = images.map(createImageCard).join('');\n  }","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('#search-form');\n    const input = form.querySelector('input');\n  \n    form.addEventListener('submit', async event => {\n      event.preventDefault();\n      const query = input.value.trim();\n  \n      if (!query) {\n        iziToast.error({ \n            title: 'Error', \n            message: 'Please enter your request.' \n        });\n        return;\n      }\n  \n      document.querySelector('.loader').classList.remove('hidden');\n  \n      try {\n        const images = await fetchPhotos(query);\n        if (images.length === 0) {\n          iziToast.info({\n            title: 'No Results',\n            message: 'Sorry, your request is incorrect. Please try again!',\n          });\n        } else {\n            createGallery(images);\n          const lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          lightbox.refresh();\n        }\n      } catch (error) {\n        iziToast.error({ \n            title: 'Error', \n            message: 'Sorry, there was an error. Please try again!' });\n      } finally {\n        document.querySelector('.loader').classList.add('hidden');\n      }\n    });\n  });"],"names":["APIKey","URLBase","fetchPhotos","query","url","response","error","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","gallery","form","input","event","iziToast","SimpleLightbox"],"mappings":"wvBAAA,MAAMA,EAAS,qCACTC,EAAU,2BAET,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAO,QAAQD,CAAM,MAAM,mBACxCG,CACD,CAAA,2DACD,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,sDAAsD,EAGxE,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAMA,CAAK,EACbA,CACP,CACH,CClBO,SAASC,EAAgB,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,EAAK,CACD,MAAO;AAAA,mBACQL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,sDAEIC,CAAK;AAAA,sDACLC,CAAK;AAAA,yDACFC,CAAQ;AAAA,0DACPC,CAAS;AAAA;AAAA;AAAA,KAIhE,CAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIT,CAAe,EAAE,KAAK,EAAE,CAC3D,CCnBA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMW,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQD,EAAK,cAAc,OAAO,EAExCA,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAAChB,EAAO,CACVkB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4BACrB,CAAS,EACD,MACD,CAED,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EAE3D,GAAI,CACF,MAAML,EAAS,MAAMd,EAAYC,CAAK,EAClCa,EAAO,SAAW,EACpBK,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,qDACrB,CAAW,GAECN,EAAcC,CAAM,EACL,IAAIM,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAC1B,CAAW,EACQ,QAAO,EAEnB,MAAe,CACdD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8CAA8C,CAAE,CACrE,QAAgB,CACR,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CACzD,CACP,CAAK,CACL,CAAG"}